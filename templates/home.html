<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Anomaly Detection</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            padding: 20px;
        }
        .form-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .form-label {
            font-weight: bold;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .btn {
            width: 100%;
        }
        .input-section {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            padding-bottom: 20px;
        }
        .input-section select,
        .input-section input {
            width: 100%;
        }
    </style>
</head>
<body>

    <div class="container form-container">
        <h1 class="text-center mb-4">Network Anomaly Detection</h1>
        <form action="/predict" method="POST">
            <div class="input-section">
                <!-- Categorical Inputs -->
                <div class="form-group">
                    <label for="protocoltype" class="form-label">Protocol Type</label>
                    <select class="form-select" id="protocoltype" name="protocoltype">
                        <option value="tcp">TCP</option>
                        <option value="udp">UDP</option>
                        <option value="icmp">ICMP</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="service" class="form-label">Service</label>
                    <select class="form-select" id="service" name="service">
                        <option value="ftp_data">ftp_data</option>
                        <option value="other">other</option>
                        <option value="private">private</option>
                        <option value="http">http</option>
                        <!-- Add other services here -->
                    </select>
                </div>

                <div class="form-group">
                    <label for="flag" class="form-label">Flag</label>
                    <select class="form-select" id="flag" name="flag">
                        <option value="SF">SF</option>
                        <option value="S0">S0</option>
                        <option value="REJ">REJ</option>
                        <option value="RSTR">RSTR</option>
                        <option value="SH">SH</option>
                        <!-- Add other flags here -->
                    </select>
                </div>

                <!-- Numerical Inputs -->
                <div class="form-group">
                    <label for="duration" class="form-label">Duration</label>
                    <input type="range" class="form-control" id="duration" name="duration" min="0" max="5000" value="2500">
                    <span id="duration_val">2500</span>
                </div>

                <div class="form-group">
                    <label for="srcbytes" class="form-label">Source Bytes</label>
                    <input type="number" class="form-control" id="srcbytes" name="srcbytes" value="0" min="0">
                </div>

                <div class="form-group">
                    <label for="dstbytes" class="form-label">Destination Bytes</label>
                    <input type="number" class="form-control" id="dstbytes" name="dstbytes" value="0" min="0">
                </div>

                <div class="form-group">
                    <label for="hot" class="form-label">Hot</label>
                    <input type="range" class="form-control" id="hot" name="hot" min="0" max="80" value="40">
                    <span id="hot_val">40</span>
                </div>

                <div class="form-group">
                    <label for="numcompromised" class="form-label">Num Compromised</label>
                    <input type="range" class="form-control" id="numcompromised" name="numcompromised" min="0" max="8000" value="4000">
                    <span id="numcompromised_val">4000</span>
                </div>

                <div class="form-group">
                    <label for="dsthostsrvcount" class="form-label">Destination Host Service Count</label>
                    <input type="range" class="form-control" id="dsthostsrvcount" name="dsthostsrvcount" min="0" max="300" value="150">
                    <span id="dsthostsrvcount_val">150</span>
                </div>

                <div class="form-group">
                    <label for="lastflag" class="form-label">Last Flag</label>
                    <input type="range" class="form-control" id="lastflag" name="lastflag" min="0" max="30" value="15">
                    <span id="lastflag_val">15</span>
                </div>

                <!-- Add more fields as necessary -->
            </div>

            <!-- Submit Button -->
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Predict</button>
            </div>
        </form>

        <!-- Predicted Result -->
        <h2 class="text-center mt-4">Prediction: <span id="prediction_result"></span></h2>
    </div>

    <script>
        // Update slider values dynamically
        document.getElementById("duration").addEventListener("input", function() {
            document.getElementById("duration_val").innerText = this.value;
        });
        document.getElementById("hot").addEventListener("input", function() {
            document.getElementById("hot_val").innerText = this.value;
        });
        document.getElementById("numcompromised").addEventListener("input", function() {
            document.getElementById("numcompromised_val").innerText = this.value;
        });
        document.getElementById("dsthostsrvcount").addEventListener("input", function() {
            document.getElementById("dsthostsrvcount_val").innerText = this.value;
        });
        document.getElementById("lastflag").addEventListener("input", function() {
            document.getElementById("lastflag_val").innerText = this.value;
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
